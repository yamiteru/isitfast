"use strict";import{Socket as t}from"node:net";import{object as e,string as r,number as o}from"zod";import{object as n,string as s,number as i,parse as a,minLength as m,maxLength as c,minValue as g,maxValue as p}from"valibot";const b=t=>e=>{if(!1===t(e))throw void 0};export const both=(t,e)=>r=>(t(r),e(r));export const object=t=>{const e=Object.keys(t),r=e.length;return o=>{for(let n=0;n<r;++n)t[e[n]](o[e[n]])}};export const tString=t=>b("string"==typeof t);export const tNumber=t=>b("number"==typeof t);object({name:tString,password:both(tString,(w=8,d=16,b((t=>t.length>=w&&t.length<=d)))),age:both(tNumber,((t,e)=>b((r=>r>=t&&r<=e)))(0,150))});var w,d;e({name:r(),password:r().min(8).max(16),age:o().min(0).max(150)});const f=n({name:s(),password:s([m(8),c(16)]),age:i([g(0),p(150)])}),h=new t({fd:3,readable:!0,writable:!0}),u=Buffer.alloc(32);let l=0;function U(t){l=t}h.on("data",(function(){const t={name:"Yamiteru",password:"Test123456",age:26};u.writeUInt32LE(1,0),u.writeBigUInt64LE(process.hrtime.bigint(),4),u.writeUInt32LE(process.memoryUsage().heapUsed,20),U(a(f,t)),u.writeUInt32LE(process.memoryUsage().heapUsed,24),u.writeBigUInt64LE(process.hrtime.bigint(),12),h.write(u)})),u.writeUInt8(0,0),h.write(u);