"use strict";import{Socket as t}from"node:net";import{object as e,string as r,number as o}from"zod";import{object as n,string as s,number as i,minLength as a,maxLength as m,minValue as c,maxValue as g}from"valibot";const p=t=>e=>{if(!1===t(e))throw void 0};export const both=(t,e)=>r=>(t(r),e(r));export const object=t=>{const e=Object.keys(t),r=e.length;return o=>{for(let n=0;n<r;++n)t[e[n]](o[e[n]])}};export const tString=t=>p("string"==typeof t);export const tNumber=t=>p("number"==typeof t);const b=object({name:tString,password:both(tString,(w=8,d=16,p((t=>t.length>=w&&t.length<=d)))),age:both(tNumber,((t,e)=>p((r=>r>=t&&r<=e)))(0,150))});var w,d;e({name:r(),password:r().min(8).max(16),age:o().min(0).max(150)}),n({name:s(),password:s([a(8),m(16)]),age:i([c(0),g(150)])});const f=new t({fd:3,readable:!0,writable:!0}),h=Buffer.alloc(32);let u=0;function l(t){u=t}f.on("data",(function(){const t={name:"Yamiteru",password:"Test123456",age:26};h.writeUInt32LE(1,0),h.writeBigUInt64LE(process.hrtime.bigint(),4),h.writeUInt32LE(process.memoryUsage().heapUsed,20),l(b(t)),h.writeUInt32LE(process.memoryUsage().heapUsed,24),h.writeBigUInt64LE(process.hrtime.bigint(),12),f.write(h)})),h.writeUInt8(0,0),f.write(h);